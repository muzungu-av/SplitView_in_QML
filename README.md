
# Настройка размеров частей вертикального SplitView в QML

В `SplitView` последняя (нижняя) видимая панель по умолчанию растягивается на всё оставшееся пространство, а остальные панели занимают свой `implicitHeight` или `preferredHeight` ([документация](https://doc.qt.io)).  
В вертикальном `SplitView` ширина панели автоматически равна ширине контейнера, а высота регулируется свойствами. Поэтому без явного указания верхняя панель получала нулевую высоту, а нижняя — всё пространство.

## Полезные свойства

- **`SplitView.fillHeight`** — указывает, что панель должна занять всё оставшееся свободное пространство по вертикали.  
  По умолчанию именно последний (нижний) элемент получает `fillHeight: true`, если не задано иначе ([документация](https://doc.qt.io)).  
  Чтобы верхняя зона росла на всё пространство, можно установить `SplitView.fillHeight: true` для верхнего прямоугольника. Тогда именно он станет «заполняющим», а нижняя панель будет иметь фиксированный размер.

- **`SplitView.preferredHeight`** и **`implicitHeight`** — определяют желаемую высоту панели до перетаскивания.  
  Если `preferredHeight` не задан, используется `implicitHeight` элемента.  
  Для пустого прямоугольника `implicitHeight` по умолчанию равен `0`, поэтому его нужно задать вручную, например:

  ```qml
  implicitHeight: 100
  // или
  SplitView.preferredHeight: 100
  ```

- **`SplitView.minimumHeight`** — ограничивает минимальную высоту панели.  
  Если требуется, чтобы нижняя панель никогда не сжималась меньше `100px`, можно указать:

  ```qml
  SplitView.minimumHeight: 100
  ```

- **Не использовать свойство `height`!**  
  В `SplitView` **не рекомендуется** напрямую устанавливать `height` для дочерних элементов — оно будет перезаписано при каждой расстановке элементов ([документация](https://doc.qt.io)). Вместо этого используйте `preferredHeight`/`implicitHeight` и регулируйте с помощью `fillHeight` и ограничений.

Пустые прямоугольники в `SplitView` могут существовать (им не обязательно иметь видимое содержимое), но тогда их размер по умолчанию будет нулевым. Поэтому, если панель не содержит контент, **нужно явно задать её размер** через `implicitHeight` или соответствующие свойства `SplitView`.

## Пример

Ниже приведён пример вертикального `SplitView`, где верхняя панель растягивается, а нижняя по умолчанию имеет высоту `100px` и минимальную высоту `100px`. Обратите внимание, что мы **не задаём явно `height`** у прямоугольников:

```qml
import QtQuick 2.15
import QtQuick.Controls 2.15

ApplicationWindow {
    width: 600; height: 400
    visible: true

    SplitView {
        id: splitView
        anchors.fill: parent
        orientation: Qt.Vertical

        // Верхняя панель — заполняет всё свободное пространство
        Rectangle {
            color: "lightgray"
            SplitView.fillHeight: true
            SplitView.minimumHeight: 100
            Text {
                anchors.centerIn: parent
                text: "Верхняя панель"
            }
        }

        // Нижняя панель — фиксированная высота 100 пикселей
        Rectangle {
            color: "lightblue"
            SplitView.preferredHeight: 100
            SplitView.minimumHeight: 100
            Text {
                anchors.centerIn: parent
                text: "Нижняя панель"
            }
        }
    }
}
```

В этом примере верхняя панель получает `fillHeight: true`, поэтому при запуске она займёт всё свободное пространство над нижней панелью.  
Нижняя панель изначально имеет `preferredHeight: 100` и `minimumHeight: 100`, что делает её высоту `100px` и не даёт уменьшить её ещё больше. При перетаскивании разделителя эти значения будут соблюдаться, а верхняя панель будет изменяться по необходимости.

## Заключение

Для требуемого поведения нужно использовать свойства `SplitView`:

- `fillHeight`
- `preferredHeight`
- `minimumHeight`

а не обычные `width`/`height` или `Layout.*`.

Это обеспечивает, что верхняя зона по умолчанию занимает большую часть экрана, а нижняя — указанный минимальный размер.

## Источники

- [Документация Qt по SplitView](https://doc.qt.io)
